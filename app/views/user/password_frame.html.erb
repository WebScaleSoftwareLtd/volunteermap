<turbo-frame id="password_frame">
    <div class="flex">
        <div class="flex-col">
            <h2 class="text-xl font-bold">Change Password</h2>
            <p class="mt-1 dark:text-gray-200">
                This screen is where you change your password.
            </p>
        </div>
        <div class="flex-grow text-right ml-6 mt-0">
            <form method="dialog">
                <button class="text-2xl mt-0" aria-label="Close">
                    <%= icon 'fa-solid', 'times' %>
                </button>
            </form>
        </div>
    </div>

    <hr class="my-3 dark:border-gray-600" />

    <% unless @errors.nil? %>
        <% if @errors.empty? %>
            <%= render NotificationComponent.new(
                type: 'success',
                body: ['Password updated successfully.'],
            ) %>
        <% else %>
            <%= render NotificationComponent.new(
                type: 'error',
                body: @errors,
            ) %>
        <% end %>
    <% end %>

    <%= form_with method: :post do |form| %>
        <%= render TextboxComponent.new(
            form: form,
            name: :current_password,
            label: 'Current Password',
            type: 'password',
        ) %>

        <%= render TextboxComponent.new(
            form: form,
            name: :new_password,
            label: 'New Password',
            type: 'password',
        ) %>

        <%= render TextboxComponent.new(
            form: form,
            name: :new_password_confirmation,
            label: 'Confirm New Password',
            type: 'password',
        ) %>

        <div class="mt-4">
            <%= render ButtonComponent.new(
                name: 'change_password',
                label: 'Change Password',
                type: 'submit',
                icon: 'key',
            ) %>
        </div>
    <% end %>
</turbo-frame>
